<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Single Tree Heatmap</title>
    <script src="../backend/lib/TreeUrl.js"></script>
    <script src="../backend/lib/const.js"></script>
    <script src="lib/buffer_bundle.js"></script>
    <script src="lib/ext/jquery-3.1.1.min.js"></script>
    <script src="lib/ext/nedb.min.js"></script></script>
    <script src="lib/ext/d3.v4.min.js"></script>

    <script src="lib/ext/papaparse.min.js"></script>
    <script src="lib/PapaParsePromise.js"></script>

    <script src="lib/ext/heatmap.min.js"></script>
    <script src="tree/250/tree.js"></script>
    <script src="lib/PoeNode.js"></script>
    <script src="lib/PoeTree.js"></script>
    <script src="lib/NodeAggregation.js"></script>

    <script src="lib/PoeTreeDrawer.js"></script>
    <script src="lib/PoeTreeDrawer/SvgDrawer.js"></script>
    <script src="lib/PoeTreeDrawer/CanvasDrawer.js"></script>

    <script src="tree_heatmap.js"></script>
    <script src="passive_tree.js"></script>
    <link type="text/css" rel="stylesheet" href="style/tree.css">
    <link type="text/css" rel="stylesheet" href="style/tree_heatmap.css">
</head>
<body>
    <h1 id="tree_stats_header"></h1>

    <fieldset id="filter">
        <legend>data filter</legend>

        <label for="filter_leagues">leagues</label>
        <select id="filter_leagues">
            <option value="">all</option>
        </select>

        <label for="filter_classes">classes</label>
        <select id="filter_classes">
            <option value="">all</option>
        </select>

        <label for="filter_limit">limit</label>
        <input type="number" min="0" step="200" value="15000" id="filter_limit">

        <label for="filter_offset">limit</label>
        <input type="number" min="0" step="200" value="0" id="filter_offset">

        <input type="submit" id="heatmap_calculate" disabled="disabled" value="display heatmap">
        <input id="filter_submit_onchange" class="submit_onchange" type="checkbox" checked="checked">
        <label for="filter_submit_onchange">automatically submit on reconfigure</label>
    </fieldset>

    <fieldset id="heatmap_conf">
        <legend>heatmap conf</legend>

        <label for="heatmap_min_opacity">min opacity [%]</label>
        <input type="number" min="0" max="100" step="1" value="5" id="heatmap_min_opacity">

        <label for="heatmap_max_opacity">max opacity [%]</label>
        <input type="number" min="0" max="100" step="1" value="55" id="heatmap_max_opacity">

        <label for="heatmap_radius">radius of data points</label>
        <input type="number" min="0" step="1" value="40" id="heatmap_radius">

        <label for="heatmap_blur">blur of gradient</label>
        <input type="number" min="0" max="100" step="1" value="85" id="heatmap_blur">

        <input type="submit" id="heatmap_redraw" disabled="disabled" value="redraw heatmap">
        <input id="heatmap_submit_onchange" class="submit_onchange" type="checkbox" checked="checked">
        <label for="heatmap_submit_onchange">automatically submit on reconfigure</label>

        <a id="download_heatmap" href="#">download heatmap</a>
    </fieldset>

    <fieldset id="tree_conf">
        <legend>tree conf</legend>

        <label for="tree_show_ascendancies">show ascendancies</label>
        <input type="checkbox" id="tree_show_ascendancies">

        <label for="tree_node_radius">node radius</label>
        <input type="number" min="0" value="5" id="tree_node_radius">

        <label for="tree_use_assets">use images for nodes</label>
        <input type="checkbox" id="tree_use_assets">

        <input type="submit" id="tree_redraw" disabled="disabled" value="redraw tree">
        <input id="tree_submit_onchange" class="submit_onchange" type="checkbox" checked="checked">
        <label for="tree_submit_onchange">automatically submit on reconfigure</label>
    </fieldset>

    <div id="heatmap_wrapper">
        <div id="heatmap">
            <div id="heatmap_legend">
                <em id="heatmap_min">min</em>
                <em id="heatmap_max">max</em>
                <img>
            </div>
        </div>
        <svg class="passive_tree"></svg>
        <canvas class="passive_tree"></canvas>
    </div>

</body>
</html>